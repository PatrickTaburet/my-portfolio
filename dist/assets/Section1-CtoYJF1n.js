import{r as u,j as t}from"./react-D-7IGec-.js";import{u as S,A as v}from"./index-C83y-521.js";import{p as X}from"./p5-ByQ1ap1F.js";import{u as Y}from"./useVisibility-Duv2z49J.js";import{g as h,S as E}from"./gsap-BrZBdHsF.js";import"./vendor-DMBcNNeS.js";const A=({isRunning:n})=>{const r=u.useRef(null),s=S();u.useEffect(()=>{r.current=new X(l,document.getElementById("sketch-container"));const e=()=>{r.current&&(r.current.resizeCanvas(window.innerWidth,window.innerHeight),r.current.background(196,58,10))};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e),r.current&&r.current.remove()}},[]),u.useEffect(()=>{r.current&&(r.current.isRunning=n,n?r.current.loop():r.current.noLoop())},[n]);const l=e=>{let a,d=[],i=[],f;e.setup=()=>{e.createCanvas(e.windowWidth,e.windowHeight).parent("sketch-container"),e.colorMode(e.HSB,360,100,100,1),e.frameRate(50),e.background(196,58,5),e.strokeWeight(10),d=[e.color(180,100,50,1),e.color(300,100,50,1),e.color(120,100,50,1),e.color(60,100,50,1)],i.push({prevX:e.mouseX,prevY:e.mouseY,offsetX:e.random(1e3),offsetY:e.random(1e3),baseAngle:e.random(e.TWO_PI)}),f=e.select("#lineSlider")},e.draw=()=>{a||(a=e.color(180,100,50,1));for(let c=0;c<i.length;c++){let o=i[c];e.stroke(a);let m=.01,b=5,k=e.noise(o.offsetX,o.offsetY)*e.TWO_PI,j=o.baseAngle+k,w=o.prevX+e.cos(j)*b,x=o.prevY+e.sin(j)*b;e.line(o.prevX,o.prevY,w,x),o.prevX=w,o.prevY=x,o.offsetX+=m,o.offsetY+=m,f&&e.random(1)<.05&&i.length<Number(f.value())&&i.push({prevX:w,prevY:x,offsetX:e.random(1e3),offsetY:e.random(1e3),baseAngle:e.random(e.TWO_PI)}),e.strokeWeight(3+c/3)}e.fill(196,58,5,.03),e.noStroke(),e.rect(0,0,e.width,e.height)},e.mouseMoved=()=>{e.isRunning&&g()},e.mouseClicked=()=>{e.isRunning&&(s&&g(),a=e.random(d))};function g(){for(let c of i)c.prevX=e.mouseX,c.prevY=e.mouseY;i=[],i.push({prevX:e.mouseX,prevY:e.mouseY,offsetX:e.random(1e3),offsetY:e.random(1e3),baseAngle:e.random(e.TWO_PI)})}};return t.jsx("div",{id:"sketch-container"})},p={mobile:{rectHeights:[160,100,120,80,40,60,20],rectWidth:20},tablet:{rectHeights:[360,280,320,200,240,160,80,120,40],rectWidth:30},desktop:{rectHeights:[360,280,320,200,240,160,80,120,40],rectWidth:40}};function y(n){return n<560?"mobile":n<1024?"tablet":"desktop"}function C(){const[n,r]=u.useState(p[y(window.innerWidth)]);return u.useEffect(()=>{const s=()=>{const l=y(window.innerWidth);r(p[l])};return window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]),n}h.registerPlugin(E);function N(n,r,s,l,e){u.useLayoutEffect(()=>{if(!n.current)return;const a=window.innerWidth-document.documentElement.clientWidth;document.documentElement.style.overflow="hidden",document.documentElement.style.setProperty("--gutter-offset",`${a}px`);const d=r.current.querySelectorAll(".rect"),i=s.current.querySelectorAll(".rect"),f=[...l].reverse(),g=h.context(()=>{const c=h.timeline({onComplete:()=>{document.documentElement.style.overflow="",document.documentElement.style.setProperty("--gutter-offset","0px")}});c.to(d,{height:m=>l[m],width:e,opacity:1,ease:"power1.out",duration:.3,stagger:.1}),c.to(i,{height:m=>f[m],width:e,opacity:1,ease:"power1.out",duration:.3,stagger:{each:.1,from:"end"}},">");const o=h.timeline({scrollTrigger:{trigger:n.current,start:"top top",end:"bottom top",scrub:!0}});o.to(d,{height:0,ease:"power1.inOut",stagger:.1},0),o.to(i,{height:0,ease:"power1.inOut",stagger:{each:.1,from:"end"}},0),h.to(".section1Content",{y:window.innerHeight*.65,opacity:-.5,ease:"none",scrollTrigger:{trigger:n.current,start:"top top",end:"bottom top",scrub:!0}})},n);return()=>g.revert()},[n,l,e,s,r])}const W=({rectHeight:n,containerRef:r,isBottom:s=!1})=>t.jsx("div",{className:`rect-container ${s?"bottom-right":"top-left"}`,ref:r,children:n.map((l,e)=>t.jsx("div",{className:"rect"},`${s?"t":"b"}${e}`))}),T=({sessionClassName:n})=>{const[r,s]=Y(),l=S(),e=u.useRef(null),a=u.useRef(null),{rectHeights:d,rectWidth:i}=C();return N(r,e,a,d,i),t.jsxs("section",{className:n,ref:r,children:[t.jsx(W,{rectHeight:d,containerRef:e}),t.jsx(W,{rectHeight:d,containerRef:a,isBottom:!0}),t.jsxs("div",{className:"section1Content",children:[t.jsx(v,{timeout:200,direction:"up",children:t.jsxs("h1",{children:[t.jsx("span",{children:"Taburet"}),t.jsx("span",{style:{paddingLeft:"7vw"},children:"Patrick"})]})}),t.jsx(v,{timeout:600,direction:"up",children:t.jsx("h2",{children:"Web developpement"})}),t.jsx("div",{className:"bottomLine",children:t.jsx(v,{timeout:1200,direction:"down",children:t.jsx("p",{children:"Welcome to my portfolio, scroll down to learn more about my work"})})})]}),t.jsx(A,{isRunning:s}),t.jsx("div",{className:"sliderContainer",style:{display:l?"none":"block"},children:t.jsxs(v,{timeout:900,direction:"down",children:[t.jsx("p",{children:"+"}),t.jsx("input",{type:"range",min:"1",max:"60",defaultValue:"13",step:"1",className:"rangeSlider",id:"lineSlider"}),t.jsx("p",{className:"negativePole",children:"-"})]})})]})};export{T as default};
