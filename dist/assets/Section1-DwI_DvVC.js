import{r as d,j as t,g,S as W,u as S,A as v}from"./index-73DPEN18.js";import{p as k,u as X}from"./useVisibility-Cv6o7d0q.js";const Y=({isRunning:n})=>{const r=d.useRef(null);d.useEffect(()=>{r.current=new k(c,document.getElementById("sketch-container"));const e=()=>{r.current&&(r.current.resizeCanvas(window.innerWidth,window.innerHeight),r.current.background(196,58,10))};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e),r.current&&r.current.remove()}},[]),d.useEffect(()=>{r.current&&(n?r.current.loop():r.current.noLoop())},[n]);const c=e=>{let s,u=[],o=[],a;e.setup=()=>{e.createCanvas(e.windowWidth,e.windowHeight).parent("sketch-container"),e.colorMode(e.HSB,360,100,100,1),e.frameRate(50),e.background(196,58,5),e.strokeWeight(10),u=[e.color(180,100,50,1),e.color(300,100,50,1),e.color(120,100,50,1),e.color(60,100,50,1)],o.push({prevX:e.mouseX,prevY:e.mouseY,offsetX:e.random(1e3),offsetY:e.random(1e3),baseAngle:e.random(e.TWO_PI)}),a=e.select("#lineSlider")},e.draw=()=>{s||(s=e.color(180,100,50,1));for(let l=0;l<o.length;l++){let i=o[l];e.stroke(s);let m=.01,h=5,f=e.noise(i.offsetX,i.offsetY)*e.TWO_PI,b=i.baseAngle+f,w=i.prevX+e.cos(b)*h,x=i.prevY+e.sin(b)*h;e.line(i.prevX,i.prevY,w,x),i.prevX=w,i.prevY=x,i.offsetX+=m,i.offsetY+=m,a&&e.random(1)<.05&&o.length<Number(a.value())&&o.push({prevX:w,prevY:x,offsetX:e.random(1e3),offsetY:e.random(1e3),baseAngle:e.random(e.TWO_PI)}),e.strokeWeight(3+l/3)}e.fill(196,58,5,.03),e.noStroke(),e.rect(0,0,e.width,e.height)},e.mouseMoved=()=>{for(let l of o)l.prevX=e.mouseX,l.prevY=e.mouseY;o=[],o.push({prevX:e.mouseX,prevY:e.mouseY,offsetX:e.random(1e3),offsetY:e.random(1e3),baseAngle:e.random(e.TWO_PI)})},e.mouseClicked=()=>{s=e.random(u)}};return t.jsx("div",{id:"sketch-container"})},j={mobile:{rectHeights:[160,100,120,80,40,60,20],rectWidth:20},tablet:{rectHeights:[360,280,320,200,240,160,80,120,40],rectWidth:30},desktop:{rectHeights:[360,280,320,200,240,160,80,120,40],rectWidth:40}};function y(n){return n<560?"mobile":n<1024?"tablet":"desktop"}function E(){const[n,r]=d.useState(j[y(window.innerWidth)]);return d.useEffect(()=>{const c=()=>{const e=y(window.innerWidth);r(j[e])};return window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)},[]),n}g.registerPlugin(W);function A(n,r,c,e,s){d.useLayoutEffect(()=>{if(!n.current)return;const u=window.innerWidth-document.documentElement.clientWidth;document.documentElement.style.overflow="hidden",document.documentElement.style.setProperty("--gutter-offset",`${u}px`);const o=r.current.querySelectorAll(".rect"),a=c.current.querySelectorAll(".rect"),l=[...e].reverse(),i=g.context(()=>{const m=g.timeline({onComplete:()=>{document.documentElement.style.overflow="",document.documentElement.style.setProperty("--gutter-offset","0px")}});m.to(o,{height:f=>e[f],width:s,opacity:1,ease:"power1.out",duration:.3,stagger:.1}),m.to(a,{height:f=>l[f],width:s,opacity:1,ease:"power1.out",duration:.3,stagger:{each:.1,from:"end"}},">");const h=g.timeline({scrollTrigger:{trigger:n.current,start:"top top",end:"bottom top",scrub:!0}});h.to(o,{height:0,ease:"power1.inOut",stagger:.1},0),h.to(a,{height:0,ease:"power1.inOut",stagger:{each:.1,from:"end"}},0),g.to(".section1Content",{y:window.innerHeight*.65,opacity:-.5,ease:"none",scrollTrigger:{trigger:n.current,start:"top top",end:"bottom top",scrub:!0}})},n);return()=>i.revert()},[n,e,s,c,r])}const p=({rectHeight:n,containerRef:r,isBottom:c=!1})=>t.jsx("div",{className:`rect-container ${c?"bottom-right":"top-left"}`,ref:r,children:n.map((e,s)=>t.jsx("div",{className:"rect"},`${c?"t":"b"}${s}`))}),L=({sessionClassName:n})=>{const[r,c]=X(),e=S(),s=d.useRef(null),u=d.useRef(null),{rectHeights:o,rectWidth:a}=E();return A(r,s,u,o,a),t.jsxs("section",{className:n,ref:r,children:[t.jsx(p,{rectHeight:o,containerRef:s}),t.jsx(p,{rectHeight:o,containerRef:u,isBottom:!0}),t.jsxs("div",{className:"section1Content",children:[t.jsx(v,{timeout:200,direction:"up",children:t.jsxs("h1",{children:[t.jsx("span",{children:"Taburet"}),t.jsx("span",{style:{paddingLeft:"7vw"},children:"Patrick"})]})}),t.jsx(v,{timeout:600,direction:"up",children:t.jsx("h2",{children:"Web developpement"})}),t.jsx("div",{className:"bottomLine",children:t.jsx(v,{timeout:1200,direction:"down",children:t.jsx("p",{children:"Welcome to my portfolio, scroll down to learn more about my work"})})})]}),t.jsx(Y,{isRunning:c}),t.jsx("div",{className:"sliderContainer",style:{display:e?"none":"block"},children:t.jsxs(v,{timeout:900,direction:"down",children:[t.jsx("p",{children:"+"}),t.jsx("input",{type:"range",min:"1",max:"60",defaultValue:"13",step:"1",className:"rangeSlider",id:"lineSlider"}),t.jsx("p",{className:"negativePole",children:"-"})]})})]})};export{L as default};
