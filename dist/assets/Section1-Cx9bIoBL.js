import{r as u,u as S,j as t,g as h,S as X,A as v}from"./index-CcL3q1fw.js";import{p as Y,u as E}from"./useVisibility-DGsN-erf.js";const A=({isRunning:r})=>{const n=u.useRef(null),i=S();u.useEffect(()=>{n.current=new Y(l,document.getElementById("sketch-container"));const e=()=>{n.current&&(n.current.resizeCanvas(window.innerWidth,window.innerHeight),n.current.background(196,58,10))};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e),n.current&&n.current.remove()}},[]),u.useEffect(()=>{n.current&&(n.current.isRunning=r,r?n.current.loop():n.current.noLoop())},[r]);const l=e=>{let a,d=[],s=[],f;e.setup=()=>{e.createCanvas(e.windowWidth,e.windowHeight).parent("sketch-container"),e.colorMode(e.HSB,360,100,100,1),e.frameRate(50),e.background(196,58,5),e.strokeWeight(10),d=[e.color(180,100,50,1),e.color(300,100,50,1),e.color(120,100,50,1),e.color(60,100,50,1)],s.push({prevX:e.mouseX,prevY:e.mouseY,offsetX:e.random(1e3),offsetY:e.random(1e3),baseAngle:e.random(e.TWO_PI)}),f=e.select("#lineSlider")},e.draw=()=>{a||(a=e.color(180,100,50,1));for(let c=0;c<s.length;c++){let o=s[c];e.stroke(a);let m=.01,b=5,k=e.noise(o.offsetX,o.offsetY)*e.TWO_PI,j=o.baseAngle+k,w=o.prevX+e.cos(j)*b,x=o.prevY+e.sin(j)*b;e.line(o.prevX,o.prevY,w,x),o.prevX=w,o.prevY=x,o.offsetX+=m,o.offsetY+=m,f&&e.random(1)<.05&&s.length<Number(f.value())&&s.push({prevX:w,prevY:x,offsetX:e.random(1e3),offsetY:e.random(1e3),baseAngle:e.random(e.TWO_PI)}),e.strokeWeight(3+c/3)}e.fill(196,58,5,.03),e.noStroke(),e.rect(0,0,e.width,e.height)},e.mouseMoved=()=>{e.isRunning&&g()},e.mouseClicked=()=>{e.isRunning&&(i&&g(),a=e.random(d))};function g(){for(let c of s)c.prevX=e.mouseX,c.prevY=e.mouseY;s=[],s.push({prevX:e.mouseX,prevY:e.mouseY,offsetX:e.random(1e3),offsetY:e.random(1e3),baseAngle:e.random(e.TWO_PI)})}};return t.jsx("div",{id:"sketch-container"})},y={mobile:{rectHeights:[160,100,120,80,40,60,20],rectWidth:20},tablet:{rectHeights:[360,280,320,200,240,160,80,120,40],rectWidth:30},desktop:{rectHeights:[360,280,320,200,240,160,80,120,40],rectWidth:40}};function W(r){return r<560?"mobile":r<1024?"tablet":"desktop"}function C(){const[r,n]=u.useState(y[W(window.innerWidth)]);return u.useEffect(()=>{const i=()=>{const l=W(window.innerWidth);n(y[l])};return window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[]),r}h.registerPlugin(X);function N(r,n,i,l,e){u.useLayoutEffect(()=>{if(!r.current)return;const a=window.innerWidth-document.documentElement.clientWidth;document.documentElement.style.overflow="hidden",document.documentElement.style.setProperty("--gutter-offset",`${a}px`);const d=n.current.querySelectorAll(".rect"),s=i.current.querySelectorAll(".rect"),f=[...l].reverse(),g=h.context(()=>{const c=h.timeline({onComplete:()=>{document.documentElement.style.overflow="",document.documentElement.style.setProperty("--gutter-offset","0px")}});c.to(d,{height:m=>l[m],width:e,opacity:1,ease:"power1.out",duration:.3,stagger:.1}),c.to(s,{height:m=>f[m],width:e,opacity:1,ease:"power1.out",duration:.3,stagger:{each:.1,from:"end"}},">");const o=h.timeline({scrollTrigger:{trigger:r.current,start:"top top",end:"bottom top",scrub:!0}});o.to(d,{height:0,ease:"power1.inOut",stagger:.1},0),o.to(s,{height:0,ease:"power1.inOut",stagger:{each:.1,from:"end"}},0),h.to(".section1Content",{y:window.innerHeight*.65,opacity:-.5,ease:"none",scrollTrigger:{trigger:r.current,start:"top top",end:"bottom top",scrub:!0}})},r);return()=>g.revert()},[r,l,e,i,n])}const p=({rectHeight:r,containerRef:n,isBottom:i=!1})=>t.jsx("div",{className:`rect-container ${i?"bottom-right":"top-left"}`,ref:n,children:r.map((l,e)=>t.jsx("div",{className:"rect"},`${i?"t":"b"}${e}`))}),P=({sessionClassName:r})=>{const[n,i]=E(),l=S(),e=u.useRef(null),a=u.useRef(null),{rectHeights:d,rectWidth:s}=C();return N(n,e,a,d,s),t.jsxs("section",{className:r,ref:n,children:[t.jsx(p,{rectHeight:d,containerRef:e}),t.jsx(p,{rectHeight:d,containerRef:a,isBottom:!0}),t.jsxs("div",{className:"section1Content",children:[t.jsx(v,{timeout:200,direction:"up",children:t.jsxs("h1",{children:[t.jsx("span",{children:"Taburet"}),t.jsx("span",{style:{paddingLeft:"7vw"},children:"Patrick"})]})}),t.jsx(v,{timeout:600,direction:"up",children:t.jsx("h2",{children:"Web developpement"})}),t.jsx("div",{className:"bottomLine",children:t.jsx(v,{timeout:1200,direction:"down",children:t.jsx("p",{children:"Welcome to my portfolio, scroll down to learn more about my work"})})})]}),t.jsx(A,{isRunning:i}),t.jsx("div",{className:"sliderContainer",style:{display:l?"none":"block"},children:t.jsxs(v,{timeout:900,direction:"down",children:[t.jsx("p",{children:"+"}),t.jsx("input",{type:"range",min:"1",max:"60",defaultValue:"13",step:"1",className:"rangeSlider",id:"lineSlider"}),t.jsx("p",{className:"negativePole",children:"-"})]})})]})};export{P as default};
